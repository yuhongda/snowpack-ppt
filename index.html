<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css" id="theme">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
		<style>
			h2 {
				text-transform: capitalize !important;
			}
			ul, p {
				font-size: 30px;
			}
			.row{
					display: flex;
			}
			.col{
					flex: 1;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<div class="row">
						<div class="col">
							<img src="./img/æŠ¥åäºŒç»´ç .jpg" alt="æŠ¥åäºŒç»´ç " width="300">
						</div>
						<div class="col">
							<img src="./img/ç­¾åˆ°äºŒç»´ç .jpg" alt="ç­¾åˆ°äºŒç»´ç " width="300">
						</div>
						<div class="col">
							<img src="./img/è¯„ä¼°äºŒç»´ç .jpg" alt="è¯„ä¼°äºŒç»´ç " width="300">
						</div>
					</div>
				</section>
				<section>
					<a href="https://revealjs.com">
						<img src="./img/snowpack_logo.png" alt="snowpack logo" class="demo-logo">
					</a>
					<h2 style="text-transform: capitalize;">Snowpack</h2>
				</section>
				<section>
					<ol>
						<li>ä»€ä¹ˆæ˜¯snowpack</li>
						<li>åŸç†</li>
						<li>æ€ä¹ˆç”¨</li>
						<li>è€é¡¹ç›®å¦‚ä½•æ•´åˆ</li>
						<li>ä¸viteåŒºåˆ«</li>
						<li>snowpack-template-react-typescript</li>
					</ol>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>ä»€ä¹ˆæ˜¯snowpack</h2>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>ä»€ä¹ˆæ˜¯snowpack</h2>
					<h2>ä¸ºä»€ä¹ˆè¦æ‰“åŒ…ï¼ŸğŸ¤”</h2>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>ä¸ºä»€ä¹ˆè¦æ‰“åŒ…ï¼ŸğŸ¤”</h2>
					<ul>
						<li><p>æµè§ˆå™¨ç¯å¢ƒä¸æ”¯æŒESM</p></li>
						<li><p>http1é™åˆ¶ï¼Œå¤§é‡ä¾èµ–æ–‡ä»¶è¯·æ±‚</p></li>
					</ul>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>ä¸ºä»€ä¹ˆè¦æ‰“åŒ…ï¼ŸğŸ¤”</h2>
					<ul>
						<li>
							<p>æµè§ˆå™¨ç¯å¢ƒä¸æ”¯æŒESM</p>
							<p><img src="./img/caniuse.png" alt="caniuse" height="300"></p>
						</li>
						<li>
							<p>http1é™åˆ¶ï¼Œå¤§é‡ä¾èµ–æ–‡ä»¶è¯·æ±‚</p>
							<p>HTTP 2.0ğŸ’ª</p>
						</li>
					</ul>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>æ‰€ä»¥snowpackä½¿æˆ‘ä»¬èƒ½å¤Ÿåªåœ¨éœ€è¦æ‰“åŒ…çš„æ—¶å€™æ‰è¿›è¡Œæ‰“åŒ…</h2>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>ä»€ä¹ˆæ˜¯snowpack</h2>
					<ul>
						<li>å‰ç«¯æ„å»ºå·¥å…·ï¼Œå¦‚ï¼šWebpackã€Parcel</li>
						<li>No bundleã€å¿«é€Ÿå¼€å‘ã€è½»é‡</li>
						<li>æ”¯æŒHMR - Hot Module Replacement</li>
						<li>æ”¯æŒTypescriptã€JSXã€CSS Modules</li>
						<li>æ”¯æŒPlugin</li>
					</ul>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<ul>
						<li>No bundleã€å¿«é€Ÿå¼€å‘ã€è½»é‡</li>
					</ul>
					<p>æ€ä¹ˆåšåˆ°çš„ğŸ¤”</p>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>Webpack</h2>
					<p>
						<img src="./img/webpack.gif" alt="webpack">
					</p>
					<p>æ‰€æœ‰jsä»¥åŠä¾èµ–éƒ½ä¼šæ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶</p>
					<p>æ‰€æœ‰cssä»¥åŠä¾èµ–éƒ½ä¼šæ‰“åŒ…æˆä¸€ä¸ªcssæ–‡ä»¶</p>
					<p>æ¯æ¬¡æ–‡ä»¶ä¿®æ”¹åéƒ½ä¼šè§¦å‘è¿™ä¸ªæµç¨‹ğŸ¤¦â€â™€ï¸</p>
				</section>
				<section data-auto-animate-unmatched="fade">
					<h2>Snowpack</h2>
					<ul>
						<li>
							<p>No bundle: ESM</p>
							<img src="./img/esm.png" alt="esm" style="width:200px;">
						</li>
						<li>
							<p>æ–‡ä»¶ä¸€ä¸€å¯¹åº”</p>
							<pre><code data-trim data-noescape style="font-size:12px;">
								node_modules/react/**/*     -> http://localhost:3000/web_modules/react.js
								node_modules/react-dom/**/* -> http://localhost:3000/web_modules/react-dom.js
							</code></pre>
						</li>
						<li>
							<p>æŒ‰éœ€ç¼–è¯‘</p>
						</li>
						<li>
							<p>ä»£ç ç¼–è¯‘åŸºäºesbuildé€Ÿåº¦è¶…å¿«ï¼Œä¸”åªéœ€è¦ç¼–è¯‘ä¸€æ¬¡</p>
						</li>
						<li>
							<p>ç”±äºä¸éœ€è¦æ‰“åŒ…ï¼Œä¸”åªéœ€è¦ä¸€æ¬¡ç¼–è¯‘ï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œcache</p>
						</li>
						<li>
							<p>æ¯æ¬¡æ–‡ä»¶ä¿®æ”¹åï¼Œåªéœ€è¦é‡æ–°ç¼–è¯‘å¯¹åº”çš„æ–‡ä»¶</p>
						</li>
					</ul>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<p>
						<img src="./img/snowpack-vs-webpack.png" alt="snowpack-vs-webpack">
					</p>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>å¥½å¤„</h2>
					<ul>
						<li>å¿«é€Ÿ</li>
						<li>é¡¹ç›®å¤§å°ä¸å½±å“å¯åŠ¨å’Œç¼–è¯‘é€Ÿåº¦</li>
						<li>ç¼“å­˜</li>
					</ul>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>æ€ä¹ˆç”¨</h2>
					<br>
					<p>å®‰è£…</p>
					<pre><code data-trim data-noescape style="font-size:12px;">
						# using npm
						npm install --save-dev snowpack

						# using yarn
						yarn add --dev snowpack
					</code></pre>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h3>åˆ›å»ºå…¨æ–°é¡¹ç›®</h3>
					<br>
					<p>ä½¿ç”¨Create Snowpack App (CSA)</p>
					<pre><code data-trim data-noescape style="font-size:12px;">
						# using npm
						npx create-snowpack-app new-dir --template [SELECT FROM BELOW] [--use-yarn]

						# using yarn
						yarn create snowpack-app new-dir --template [SELECT FROM BELOW] [--use-yarn]
					</code></pre>
					<br>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<p>å¯åŠ¨</p>
					<pre><code data-trim data-noescape style="font-size:12px;">
						npx snowpack dev
					</code></pre>
					<p>
						<img src="./img/startup.png" alt="snowpack-start-up" style="width: 600px;">
					</p>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<p>å¯åŠ¨æµç¨‹</p>
					<ol>
						<li><p>æ‰«æé¡¹ç›®ä½¿ç”¨çš„npmä¾èµ–</p></li>
						<li><p>å°†node_modulesä¸‹å®‰è£…çš„ä¾èµ–ç‹¬ç«‹æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶ï¼Œå¦‚/node_modules/react -> /web_modules/react.js</p></li>
						<li><p>å¯åŠ¨Snowpack Dev Serverï¼Œç›´æ¥åŠ è½½esm</p></li>
						<li><p>ç”±äºnpmä¾èµ–åŸºæœ¬ä¸ä¼šå˜åŒ–ï¼Œæ‰€ä»¥Snowpackä¼šå°†ç¼–è¯‘ç»“æœè¿›è¡Œcache</p></li>
					</ol>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<section>
						<h2>è€é¡¹ç›®å¦‚ä½•æ•´åˆğŸ¤”</h2>
					</section>
					<section>
						<h3>ä½¿ç”¨ESMè¯­æ³•ï¼ˆimport & exportï¼‰</h3>
						<p>npmä¾èµ–ä¼šè‡ªåŠ¨ä½¿ç”¨es moduleç‰ˆæœ¬ï¼Œ</p>
						<p>å¦‚æœä¾èµ–æ²¡æœ‰esmåŒ…ï¼ŒSnowpackä¼šè‡ªåŠ¨è½¬æ¢</p>
					</section>
					<section>
						<h2>CSS</h2>
						<p>Snowpackä¼šè‡ªåŠ¨å°†cssåŠ è½½åˆ°é¡µé¢ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒsasså’Œless</p>
						<pre><code data-trim data-noescape style="font-size:12px;">
							import './style.css';
							import './style.scss';
							import './style.less';
						</code></pre>
					</section>
					<section>
						<h2>CSS Modules</h2>
						<p>éœ€è¦å®‰è£…å¯¹åº”pluginï¼Œå¦‚ï¼š@snowpack/plugin-sassã€snowpack-plugin-less-y</p>
						<pre><code data-trim data-noescape style="font-size:12px;">
							import styles from './style.module.css';
							import styles from './style.module.scss';
							import styles from './style.module.less';
						</code></pre>
					</section>
					<section>
						<h2>Image</h2>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							import img from './image.png';

							<img src={img} />
						</script></code></pre>
					</section>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<section>
						<h3 style="text-transform: lowercase;">showpack.config.ts</h3>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							export default {
								extends: '@snowpack/app-scripts-react',
								plugins: [
									[
										'@snowpack/plugin-babel',
										{
											input: ['.js', '.mjs', '.jsx', '.ts', '.tsx'],
											transformOptions: {},
										},
									],
									['@snowpack/plugin-sass', {}],
									['snowpack-plugin-less-y', { javascriptEnabled: true }],
									'@snowpack/plugin-dotenv',
									[
										'@snowpack/plugin-postcss',
										{
											input: ['.css', '.scss'],
										},
									],
								],
								exclude: ['**/node_modules/**/*', '**/__tests__/*', '**/*.@(spec|test).@(js|mjs)'],
								alias: {
									'@': './src',
								},
								installOptions: {
									polyfillNode: true,
									env: { NODE_ENV: 'development', IS_SNOWPACK: true },
									namedExports: ['mobx-react-router'],
									sourceMap: false,
									rollup: {
										plugins: [require('rollup-plugin-less')({ exclude: [] }), require('@rollup/plugin-image')({ dom: true })],
									},
								},
								devOptions: {
									port: 8200,
								},
								proxy: {
									'/api': {
										target: 'http://c2m-open-pre-test.jd.com/',
										secure: false,
										changeOrigin: true,
									},
								},
								install: [
									'@babel/runtime/helpers/slicedToArray',
									'@babel/runtime/helpers/toConsumableArray',
									'@babel/runtime/helpers/defineProperty',
									'@babel/runtime/regenerator',
									'@babel/runtime/helpers/applyDecoratedDescriptor',
									'@babel/runtime/helpers/getPrototypeOf',
									'@babel/runtime/helpers/possibleConstructorReturn',
									'@babel/runtime/helpers/inherits',
									'@babel/runtime/helpers/assertThisInitialized',
									'@babel/runtime/helpers/createClass',
									'@babel/runtime/helpers/classCallCheck',
									'@babel/runtime/helpers/asyncToGenerator',
									'@babel/runtime/helpers/taggedTemplateLiteral',
									'@babel/runtime/helpers/extends',
									'@babel/runtime/helpers/initializerWarningHelper',
									'@babel/runtime/helpers/initializerDefineProperty',
									'@babel/runtime/helpers/objectWithoutProperties',
									'lodash/cloneDeep',
									'@babel/runtime/helpers/typeof',
									'nornj-react/mobx/formData/esm',
									'@babel/runtime/helpers/get',
								],
							};
						</script></code></pre>
					</section>
					<section>
						<h2>åˆ«å alias</h2>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							alias: {
								'@': './src',
							},
						</script></code></pre>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							import Button from `../../../../components/Button`;

							import Button from `@/components/Button`;
						</script></code></pre>
					</section>
					<section>
						<h2>ç¯å¢ƒå˜é‡</h2>
						<p>å¯ä»¥åˆ›å»º'.env'æ–‡ä»¶ï¼Œé…åˆplugin-dotenv</p>
						<p>ç¯å¢ƒå˜é‡éœ€è¦ä»¥SNOWPACK_PUBLIC_å¼€å¤´</p>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
								SNOWPACK_PUBLIC_NODE_ENV=development
						</script></code></pre>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							{
								"plugins": ["@snowpack/plugin-dotenv"]
							}
						</script></code></pre>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							import.meta.env.NODE_ENV
						</script></code></pre>
					</section>
					<section>
						<h2>Dev Server</h2>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							devOptions: {
								port: 8200,
							},
							proxy: {
								'/api': {
									target: 'http://c2m-open-pre-test.jd.com/',
									secure: false,
									changeOrigin: true,
								},
							}
						</script></code></pre>
					</section>
					<section>
						<h2>namedExports</h2>
						<p></p>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							installOptions: {
								namedExports: ['mobx-react-router'],
							},
						</script></code></pre>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							import { RouterStore, syncHistoryWithStore } from 'mobx-react-router';
						</script></code></pre>
					</section>
					<section>
						<h3>HMRï¼ˆHot Module Replacementï¼‰</h3>
						<p>Snowpackå¼€å‘äº†åŸºäºESMçš„ESM-HMRï¼Œæ”¯æŒæ ‡å‡†HMR API</p>
						<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
							if (import.meta.hot) {
								import.meta.hot.accept(['./App.js', './stores/root.mst.js'], ({ module, deps }) => {
									const App = deps[0].default;
									_rootStore = deps[1].default;
									applySnapshot(_rootStore, import.meta.hot.data.store);
									render(App, _rootStore);
								});
						
								import.meta.hot.dispose(() => {
									import.meta.hot.data = { store: getSnapshot(_rootStore) };
								});
							}
						</script></code></pre>
					</section>
				</section>
				<section>
					<h3>é—®é¢˜</h3>
					<ul>
						<li>
							<p>nornj</p>
							<p>å‡çº§æœ€æ–°ç‰ˆï¼ŒåŠ å…¥esmæ‰“åŒ…</p>
						</li>
						<li>
							<p>@scf/uiï¼ˆ1.24.2ï¼‰</p>
							<p>ä½¿ç”¨webpackåˆ«åå¤„ç†</p>
							<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
								resolve: {
									alias: {
										'@scf/ui/lib': path.resolve(__dirname, '../node_modules/@scf/ui/dist/index.js'),
									},
								},
							</script></code></pre>
							<pre><code data-trim data-noescape style="font-size:12px;"><script type="text/template">
								import { ScfException } from '@scf/ui';
								ğŸ‘‡
								import { ScfException } from '@scf/ui/lib';
							</script></code></pre>
						</li>
					</ul>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h3>ä¸viteåŒºåˆ«</h3>
					<ul>
						<li><p>Viteçµæ„Ÿæ¥è‡ªäºSnowpack V1</p></li>
						<li><p>Viteçš„ESM HMRå…ˆäºSnowpackå‘å¸ƒï¼›å½“æ—¶Snowpack V1æ˜¯ä¸æ”¯æŒHMRçš„ï¼›Viteå’ŒSnowpackçš„HMR APIä¼šæœ‰ç»†å¾®å·®åˆ«</p></li>
						<li><p>ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…ï¼ŒViteä½¿ç”¨å†…å»ºRollupé…ç½®å®ç°ï¼Œè€ŒSnowpackéœ€è¦å€ŸåŠ©pluginä½¿ç”¨å¤–éƒ¨æ‰“åŒ…å·¥å…·å®ç°</p></li>
						<li><p>Viteå¯¹Vueçš„æ”¯æŒä¼šæ›´å¥½</p></li>
						<li><p>Snowpackæ›´åŠ æˆç†Ÿå®Œå–„ï¼Œæ”¯æŒreactï¼Œ vueï¼Œ preactï¼Œ svelteï¼›Viteè¿˜å¤„äºæµ‹è¯•ç‰ˆ</p></li>
					</ul>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h3><a href="https://github.com/yuhongda/snowpack-template-react-typescript">snowpack-template-react-typescript</a></h3>
				</section>
				<section data-auto-animate data-auto-animate-unmatched="fade">
					<h2>Thx</h2>
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
